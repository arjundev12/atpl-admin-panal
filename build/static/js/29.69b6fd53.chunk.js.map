{"version":3,"sources":["constant.js","views/pagination/pagination.js","views/cms/cms.js"],"names":["baseUrl","img_url","Pagination","showPerPage","onPaginationChange","total","page","useState","counter","setCounter","numberOfButtons","setNumberOfButoons","console","log","useEffect","Math","ceil","onButtonClick","type","className","aria-label","class","onClick","Array","fill","map","el","index","Cms","useHistory","data","setData","useParams","id","loaddata","a","axios","post","CONSTANT","res","warn","code","toast","docs","itemDelete","e","item","delete","_id","message","title","content","status","formdata","setFormDate","onInputChange","target","name","value","show","setShow","handleClose","handleShow","onSubmit","preventDefault","to","variant","striped","bordered","hover","i","onHide","Header","closeButton","Title","placeholder","onChange","Footer"],"mappings":"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","file":"static/js/29.69b6fd53.chunk.js","sourcesContent":["export const baseUrl  = \"http://3.12.65.48:4001\"\r\n// export const baseUrl  = \"http://localhost:4001\"\r\n// export const img_url = \"http://localhost:4001/\"\r\nexport const img_url = \"http://3.12.65.48:4001/\"\r\nexport const CONSTANT_NUMBER_2 = 'hello I am also a constant';\r\nexport const sample_file = 'http://3.12.65.48:4001/src/assets/samplesheet.xlsx'","import React, { useState, useEffect } from \"react\";\r\nimport { Button, Table } from 'react-bootstrap'\r\nconst Pagination = ({ showPerPage, onPaginationChange, total,page }) => {\r\n  const [counter, setCounter] = useState(page);\r\n  const [numberOfButtons, setNumberOfButoons] = useState(\r\n  );\r\n\r\n console.log(\"numberOfButtons\",numberOfButtons )\r\n console.log(\"total\",total )\r\n console.log(\"counter\",counter )\r\n console.log(\"showPerPage\",showPerPage )\r\n  useEffect(() => {\r\n    const value = showPerPage * counter;\r\n    onPaginationChange(counter, value - showPerPage);\r\n    setNumberOfButoons(Math.ceil(total / showPerPage))\r\n  }, [counter]);\r\n\r\n  const onButtonClick = (type) => {\r\n    if (type === \"prev\") {\r\n      if (counter === 1) {\r\n        setCounter(1);\r\n      } else {\r\n        setCounter(counter - 1);\r\n      }\r\n    } else if (type === \"next\") {\r\n      if (numberOfButtons === counter) {\r\n        setCounter(counter);\r\n      } else {\r\n        setCounter(counter + 1);\r\n      }\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"d-flex justify-content-center\">\r\n      <nav aria-label=\"Page navigation example\">\r\n        <ul class=\"pagination\">\r\n          <li class=\"page-item\">\r\n            <a\r\n              class=\"page-link\"\r\n              // href=\"!#\"\r\n              onClick={() => onButtonClick(\"prev\")}\r\n            >\r\n              Previous\r\n            </a>\r\n          </li>\r\n\r\n          {new Array(numberOfButtons).fill(\"\").map((el, index) => (\r\n            <li class={`page-item ${index + 1 === counter ? \"active\" : null}`}>\r\n              <a\r\n                class=\"page-link\"\r\n                // href=\"!#\"\r\n                onClick={() => setCounter(index + 1)}\r\n              >\r\n                {index + 1}\r\n              </a>\r\n            </li>\r\n          ))}\r\n          <li class=\"page-item\">\r\n            <a\r\n              class=\"page-link\"\r\n              // href=\"!#\"\r\n              onClick={() => onButtonClick(\"next\")}\r\n            >\r\n              Next\r\n            </a>\r\n          </li>\r\n        </ul>\r\n      </nav>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Pagination;","import React, { useState, useEffect } from 'react'\r\nimport { useHistory, useLocation, Link, useParams } from 'react-router-dom'\r\nimport axios from \"axios\";\r\nimport { Button, Table, Modal } from 'react-bootstrap'\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport *as  CONSTANT from '../../constant'\r\nimport Pagination from '../pagination/pagination'\r\nimport '../../css/style.css'\r\nimport csc from 'country-state-city'\r\n\r\nconst Cms = () => {\r\n    const history = useHistory()\r\n    const [showPerPage, setShowPerPage] = useState(10);\r\n    const [total, setTotal] = useState(0);\r\n    const [page, setPage] = useState(1);\r\n    const [index, setIndex] = useState(1);\r\n    const [data, setData] = useState([]);\r\n    const { id } = useParams();\r\n    useEffect(() => {\r\n        loaddata(page);\r\n    }, [page, total]);\r\n\r\n    const loaddata = async () => {\r\n        const data = {\r\n            // offset: page,\r\n            // limit: 10\r\n        }\r\n        console.log(\"requset0\", data)\r\n        const res = await axios.post(`${CONSTANT.baseUrl}/api/admin/get-cms`, data);\r\n        console.warn(\"respons\", res.data.data)\r\n        if (res.data.code == 200) {\r\n            toast(\"List get successfully\")\r\n            // await setTotal(res.data.data.total)\r\n            await setData(res.data.data.docs);\r\n        } else {\r\n            toast(\"somthing went wrong\")\r\n        }\r\n    };\r\n    // const onPaginationChange = (start, end) => {\r\n    //     console.warn(\"getee, \", start, end)\r\n    //     setPage(start)\r\n    //     setIndex(end)\r\n    // };\r\n    const itemDelete = async (e, item) => {\r\n        console.log(\"delete item\", item)\r\n        const res = await axios.delete(`${CONSTANT.baseUrl}/api/admin/delete-cms?_id=${item._id}`);\r\n        toast(`${res.data.message}`)\r\n        loaddata(page);\r\n    }\r\n   \r\n\r\n    const [formdata, setFormDate] = useState({\r\n        title: \"\",\r\n        content: \"\",\r\n        type: \"about_us\",\r\n        status: \"active\"\r\n\r\n    })\r\n    const { title, content, type, status } = formdata\r\n    const onInputChange = async (e, item) => {\r\n        console.warn(\"oninput change data \", e.target.name, e.target.value )\r\n        let data = {}\r\n        if (e.target.name == 'status') {\r\n            data.status = e.target.value\r\n        } else {\r\n            setFormDate({ ...formdata, [e.target.name]: e.target.value })\r\n        }\r\n    }\r\n    //======================================modalcode==================================//\r\n\r\n    const [show, setShow] = useState(false);\r\n    const handleClose = () => setShow(false);\r\n\r\n    const handleShow = async () => {\r\n        setShow(true);\r\n    }\r\n    const onSubmit = async e => {\r\n        e.preventDefault();\r\n        console.log(\"hi request\", formdata)\r\n        const res = await axios.post(`${CONSTANT.baseUrl}/api/admin/cms/create`, formdata);\r\n        console.log(\"hi request\", res)\r\n        if (res.data.code == 200) {\r\n            toast(res.data.message)\r\n            handleClose()\r\n        } else {\r\n            toast(res.data.message)\r\n            handleClose()\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <div class=\"btn-right\">\r\n            <Link className=\"btn btn-primary btn-home\" to=\"/dashboard\">\r\n                back to Home\r\n            </Link>\r\n            <Button variant=\"primary btn-link\" onClick={handleShow}>\r\n                Add Content\r\n            </Button>\r\n            <Table striped bordered hover>\r\n                <thead>\r\n                    <tr>\r\n                        <th>S.no</th>\r\n                        <th>Title</th>\r\n                        <th>Type</th>\r\n                        {/* <th class=\"status\">Status</th> */}\r\n                        <th>Actions</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {\r\n                        data.map((item, i) => <tr>\r\n                            <td>{i + 1}</td>\r\n                            <td>{item.title ? item.title : null}</td>\r\n                            <td>{item.type ? item.type : null}</td>\r\n                            {/* <td><select class=\"form-control\" name=\"status\" value={item.status}\r\n                                onChange={e => onInputChange(e, item)}>\r\n                                <option value=\"1\">Active</option>\r\n                                <option value=\"0\">Inactive</option> */}\r\n                            {/* <option value=\"blocked\">Block</option> */}\r\n                            {/* </select></td> */}\r\n                            <td>\r\n                                <Link className=\"btn btn-primary mr-2 \" to={`/cms/edit/${item._id}`}>edit </Link>\r\n                                {/* <Link className=\"btn btn-primary mr-2\" to={`/wallet/customer/${item._id}`}> delete </Link> */}\r\n                                <Button className=\"btn btn-primary \" onClick={e => itemDelete(e, item)}> Delete</Button>\r\n                            </td>\r\n                        </tr>)\r\n                    }\r\n                </tbody>\r\n            </Table>\r\n            <Modal show={show} onHide={handleClose}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>Add Content</Modal.Title>\r\n                </Modal.Header>\r\n                <div class=\"row\">\r\n                    <div class=\"state-name-code\">\r\n                        <div className=\"form-group\">\r\n                            <label> Title</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                className=\"form-control form-control-lg\"\r\n                                placeholder=\"Enter question description\"\r\n                                name=\"title\"\r\n                                value={title}\r\n                                onChange={e => onInputChange(e)}\r\n                            />\r\n                        </div>\r\n                        <div className=\"form-group\">\r\n                            <label> Content</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                className=\"form-control form-control-lg\"\r\n                                placeholder=\"Enter info description\"\r\n                                name=\"content\"\r\n                                value={content}\r\n                                onChange={e => onInputChange(e)}\r\n                            />\r\n                            {/* {priceErr &&\r\n                            <div style={{ color: \"red\", paddingBottom: 10 }}>{priceErr}</div>\r\n                        } */}\r\n                        </div>\r\n                        <div className=\"form-group col-sm-6\">\r\n                            <label>Type</label>\r\n                            <select className=\"form-control\" name=\"type\"\r\n                                onChange={e => onInputChange(e)} >\r\n                                <option value={\"about_us\"}> {'about us'} </option>\r\n                                <option value={\"term_and_condition\"}> {'term & condition'} </option>\r\n                                <option value={\"privecy_policy\"}>{'privecy and policy'}</option>\r\n                                {/* <option  value={\"D\"}> D </option> */}\r\n                            </select>\r\n                        </div>\r\n                    </div >\r\n                </div>\r\n\r\n                <Modal.Footer>\r\n                    <Button variant=\"secondary\" onClick={handleClose}>\r\n                        Close\r\n                    </Button>\r\n                    <Button variant=\"primary\" onClick={e => onSubmit(e)}>\r\n                        Submit\r\n                    </Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n            {/* <Modal show={showcity} onHide={handleCloseCity}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>{cityData.name}</Modal.Title>\r\n                </Modal.Header>\r\n                <div class=\"row\">\r\n                    <div class=\"state-name-code\">\r\n                        <label>Pincode</label>\r\n                        <input  type=\"text\" name=\"code\"\r\n                            class=\"form-control\" placeholder=\"\"\r\n                            onChange={e => onInputChangePin(e)} />\r\n                        <div className=\"text-danger\">{error.pin}</div>\r\n                    </div>\r\n                </div>\r\n                <div class ='footer-side'>\r\n                <Modal.Footer>\r\n                    <Button variant=\"secondary\" onClick={handleCloseCity}>\r\n                        Close\r\n          </Button>\r\n                    <Button variant=\"primary\" onClick={e => onSubmitPin(e)}>\r\n                        Submit\r\n          </Button>\r\n                </Modal.Footer>\r\n                </div>\r\n                \r\n            </Modal> */}\r\n            <ToastContainer />\r\n            {/* <Pagination\r\n                showPerPage={showPerPage}\r\n                onPaginationChange={onPaginationChange}\r\n                total={total}\r\n                page={page}\r\n            /> */}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Cms\r\n"],"sourceRoot":""}