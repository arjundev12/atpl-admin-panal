(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[6],{623:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c}));var a="http://3.12.65.48:4001",c="http://3.12.65.48:4001/"},625:function(e,t,n){},628:function(e,t,n){},633:function(e,t,n){"use strict";var a=n(624),c=n(1),r=n(17);t.a=function(e){var t=e.showPerPage,n=e.onPaginationChange,s=e.total,i=e.page,o=Object(c.useState)(i),l=Object(a.a)(o,2),u=l[0],d=l[1],b=Object(c.useState)(),j=Object(a.a)(b,2),h=j[0],p=j[1];console.log("numberOfButtons",h),console.log("total",s),console.log("counter",u),console.log("showPerPage",t),Object(c.useEffect)((function(){n(u,t*u-t),p(Math.ceil(s/t))}),[u]);var O=function(e){"prev"===e?d(1===u?1:u-1):"next"===e&&d(h===u?u:u+1)};return Object(r.jsx)("div",{className:"d-flex justify-content-center",children:Object(r.jsx)("nav",{"aria-label":"Page navigation example",children:Object(r.jsxs)("ul",{class:"pagination",children:[Object(r.jsx)("li",{class:"page-item",children:Object(r.jsx)("a",{class:"page-link",onClick:function(){return O("prev")},children:"Previous"})}),new Array(h).fill("").map((function(e,t){return Object(r.jsx)("li",{class:"page-item ".concat(t+1===u?"active":null),children:Object(r.jsx)("a",{class:"page-link",onClick:function(){return d(t+1)},children:t+1})})})),Object(r.jsx)("li",{class:"page-item",children:Object(r.jsx)("a",{class:"page-link",onClick:function(){return O("next")},children:"Next"})})]})})})}},648:function(e,t,n){"use strict";var a=n(13),c=n(30),r=n(632),s=n.n(r),i=n(1),o=n.n(i),l=n(635),u=o.a.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.striped,u=e.bordered,d=e.borderless,b=e.hover,j=e.size,h=e.variant,p=e.responsive,O=Object(c.a)(e,["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"]),f=Object(l.a)(n,"table"),x=s()(r,f,h&&f+"-"+h,j&&f+"-"+j,i&&f+"-striped",u&&f+"-bordered",d&&f+"-borderless",b&&f+"-hover"),m=o.a.createElement("table",Object(a.a)({},O,{className:x,ref:t}));if(p){var g=f+"-responsive";return"string"===typeof p&&(g=g+"-"+p),o.a.createElement("div",{className:g},m)}return m}));t.a=u},909:function(e,t,n){"use strict";n.r(t);var a=n(161),c=n(40),r=n(626),s=n.n(r),i=n(627),o=n(624),l=n(1),u=n(20),d=n(160),b=n(629),j=n.n(b),h=n(648),p=n(720),O=n(630),f=(n(625),n(623)),x=n(633),m=(n(628),n(17));t.default=function(){Object(u.g)();var e=Object(l.useState)(10),t=Object(o.a)(e,2),n=t[0],r=(t[1],Object(l.useState)(0)),b=Object(o.a)(r,2),g=b[0],v=b[1],k=Object(l.useState)(1),y=Object(o.a)(k,2),w=y[0],N=y[1],S=Object(l.useState)(1),_=Object(o.a)(S,2),P=(_[0],_[1]),C=Object(l.useState)([{id:"",email:"",name:"",username:"",user_type:"",minner_Activity:""}]),E=Object(o.a)(C,2),A=E[0],B=E[1],U=(Object(u.i)().id,Object(l.useState)({})),I=Object(o.a)(U,2),z=I[0],D=I[1];Object(l.useEffect)((function(){M()}),[w,g,z]);var J=Object(l.useState)("0"),T=Object(o.a)(J,2),q=T[0],G=T[1],M=function(){var e=Object(i.a)(s.a.mark((function e(){var t,n,a,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return[],t={page:w,limit:10},0===Object.keys(z).length&&z.constructor===Object||(t.searchData=z.text),n={headers:{token:localStorage.getItem("token")}},console.log("datarequest ",t),e.next=7,j.a.post("".concat(f.a,"/api/admin/get-user"),t,n);case 7:if(a=e.sent,console.warn(a.data.data),200!=a.data.code){e.next=13;break}return B(a.data.data.docs),e.next=13,v(a.data.data.total);case 13:return e.next=15,j.a.get("".concat(f.a,"/api/admin/get-total-subscription"),n);case 15:c=e.sent,console.warn("res1ponse",c.data),200!=c.data.code?Object(O.b)("Somethig went wrong"):(Object(O.b)("Get successfully"),G(c.data.data));case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("search text",t.target.name,t.target.value),D(Object(c.a)(Object(c.a)({},z),{},Object(a.a)({},t.target.name,t.target.value)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(i.a)(s.a.mark((function e(t,n,a){var c,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("item data",n,a,typeof a),(c={})._id=n,c.block_user=a,r={headers:{token:localStorage.getItem("token")}},e.next=7,j.a.put("".concat(f.a,"/api/admin/update-user"),c,r).then((function(e){M()})).catch((function(e){console.log("error",e)}));case 7:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),H=function(){var e=Object(i.a)(s.a.mark((function e(t,n,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("item data",n,a,typeof a),{headers:{token:localStorage.getItem("token")}},e.next=4,j.a.delete("".concat(f.a,"/api/admin/delete-user?_id=").concat(n)).then((function(e){console.log("deleteUsers>>>>>>>>>",e),M()})).catch((function(e){console.log("error",e)}));case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}();return Object(m.jsxs)("div",{children:[Object(m.jsx)(d.b,{className:"btn btn-primary",to:"/users/add-users",children:"Add User"}),Object(m.jsx)("div",{className:"searchBox",children:Object(m.jsx)("input",{type:"text",className:"searchBox",placeholder:"search here....",name:"text",value:z.text,onChange:function(e){return R(e)}})}),Object(m.jsxs)("label",{children:["Total subscrib User : ",q]}),Object(m.jsxs)(h.a,{striped:!0,bordered:!0,hover:!0,children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"S.no"}),Object(m.jsx)("th",{children:"Name"}),Object(m.jsx)("th",{children:"user_id"}),Object(m.jsx)("th",{children:"Email"}),Object(m.jsx)("th",{children:"Type"}),Object(m.jsx)("th",{children:"Actions"})]})}),Object(m.jsx)("tbody",{children:A.map((function(e,t){return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:t+1}),Object(m.jsx)("td",{children:e.name}),Object(m.jsx)("td",{children:e.user_id}),Object(m.jsx)("td",{children:e.email}),Object(m.jsx)("td",{children:e.user_type}),Object(m.jsxs)("td",{children:[Object(m.jsx)(d.b,{className:"btn btn-primary mr-2 ",to:"/user/".concat(e._id),children:"view "}),"1"==e.block_user?Object(m.jsx)(p.a,{className:"btn btn-primary bg-red mr-2",onClick:function(t){return F(t,e._id,"0")},children:" Blocked "}):Object(m.jsx)(p.a,{className:"btn btn-primary bg-green mr-2",onClick:function(t){return F(t,e._id,"1")},children:" Unblock "}),Object(m.jsx)(p.a,{className:"btn btn-primary",onClick:function(t){return H(t,e._id)},children:" Delete "})]})]})}))})]}),g>0?Object(m.jsx)(x.a,{showPerPage:n,onPaginationChange:function(e,t){console.warn("getee, ",e,t),N(e),P(t)},total:g,page:w}):""]})}}}]);
//# sourceMappingURL=6.03d8a854.chunk.js.map